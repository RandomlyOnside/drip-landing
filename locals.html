<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local Drip - Join the Community</title>
    <meta name="description" content="Be the first to sip with Local Drip. Get your neighborhood café in your pocket with early access.">
    
    <!-- Preconnect to Firebase for performance -->
    <link rel="preconnect" href="https://firestore.googleapis.com">
    
    <!-- Custom styles -->
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body>
    <!-- Skip link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <main id="main-content" style="min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 2rem 1rem;">
        <div style="max-width: 600px; width: 100%; text-align: center;">
            <!-- Header section with warm community messaging -->
            <header style="margin-bottom: 3rem;">
                <h1 class="hero-title" style="font-size: 3rem; margin-bottom: 1rem; line-height: 1.1;">
                    Be the first to sip with Local Drip.
                </h1>
                <p class="hero-subtitle" style="font-size: 1.25rem; margin-bottom: 2rem; line-height: 1.4;">
                    Get your neighborhood café in your pocket. Early access in [Neighborhood].
                </p>
            </header>
            
            <!-- Signup form section -->
            <section>
                <form id="locals-signup-form" style="max-width: 400px; margin: 0 auto;">
                    <div style="margin-bottom: 1.5rem;">
                        <label for="email" class="sr-only">Email address</label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            placeholder="Enter your email address"
                            required
                            style="width: 100%; padding: 1rem; border: 2px solid #E5DDD5; border-radius: 0.5rem; font-size: 1rem; background-color: white; color: var(--brand-text-primary); transition: border-color 0.2s ease;"
                            aria-describedby="email-help"
                        >
                        <div id="email-help" class="sr-only">
                            Enter your email to join the Local Drip community
                        </div>
                    </div>
                    
                    <button 
                        type="submit" 
                        class="cta-button cta-button-local"
                        style="width: 100%; font-size: 1.1rem; margin-bottom: 1rem;"
                        aria-describedby="submit-help"
                    >
                        Join the Community
                    </button>
                    <div id="submit-help" class="sr-only">
                        Click to sign up for early access to Local Drip
                    </div>
                </form>
                
                <!-- Success message (hidden by default) -->
                <div id="success-message" style="display: none; background-color: var(--brand-success); color: white; padding: 1.5rem; border-radius: 0.5rem; margin-top: 1.5rem;">
                    <h2 style="margin: 0 0 0.5rem 0; font-size: 1.25rem;">Welcome to Local Drip!</h2>
                    <p style="margin: 0; font-size: 1rem;">You're on the list — your first cup's on us at launch.</p>
                </div>
                
                <!-- Error message (hidden by default) -->
                <div id="error-message" style="display: none; background-color: #D35400; color: white; padding: 1rem; border-radius: 0.5rem; margin-top: 1rem;">
                    <p style="margin: 0; font-size: 0.9rem;" id="error-text"></p>
                </div>
                
                <!-- Loading state (hidden by default) -->
                <div id="loading-message" style="display: none; color: var(--brand-text-secondary); margin-top: 1rem;">
                    <p style="margin: 0; font-size: 0.9rem;">Signing you up...</p>
                </div>
            </section>
            
            <!-- Back to home link -->
            <footer style="margin-top: 3rem;">
                <a href="/" style="color: var(--brand-text-secondary); text-decoration: none; font-size: 0.9rem; border-bottom: 1px solid transparent; transition: border-color 0.2s ease;">
                    ← Back to Local Drip
                </a>
            </footer>
        </div>
    </main>
    
    <!-- Firebase SDK -->
    <script type="module">
        // Load Firebase modules and make them globally available
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, addDoc, serverTimestamp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        
        // Make Firebase modules globally available for locals.js
        window.firebaseModules = {
            initializeApp,
            getFirestore,
            collection,
            addDoc,
            serverTimestamp
        };
    </script>
    
    <!-- Shared Firebase utilities -->
    <script src="js/app.js"></script>
    
    <!-- Local signup page JavaScript -->
    <script src="js/locals.js"></script>
</body>
</html>